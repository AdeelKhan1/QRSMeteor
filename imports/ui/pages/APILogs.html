<template name='APILogs'>
    <div class="ui stackable grid container">
        <div class="row">
            <h3 class="ui header">
                <!-- <img class="icon" src="images/API.png"> -->
                Overview and source code of the API communication between Qlik and your SaaS platform</h3>
        </div>
        <div class="row">
            <div class="eight wide column">
                <p>This <a href="https://github.com/QHose/QRSMeteor">open source</a> (non-Qlik) <a href="https://www.meteor.com/">Meteor.js</a> based demo platform has been designed to demonstrate the power of the Qlik Sense API's for companies that are looking to integrate Qlik Sense in their multi-tenant SaaS platform. On the right you will find an introduction of the manual QMC activities we have automated by making use of the QRS and Engine API.</p>
                <div class="ui mini buttons">
                    <a href="{{doc_processIntegration}}" target="_blank" class="ui button">Read more on APIs</a>
                    <div class="or"></div>
                    <a href="#" class="ui button APIIntegrationMindMap">Mindmap</a>
                </div>
            </div>
            <div class="right floated eight wide column">
                <img class="ui image" src="/images/only generation explanation.gif">
            </div>
        </div>
        <div class="ui divider"></div>
        <div class="row">
            <div class="eight wide column">
                <h4>Use the demo source code</h4>
                <p>This demo platform provides you a wrapper around the Qlik Sense QMC so you can "manage" Qlik Sense. If you click certain buttons, API calls are sent to Qlik Sense. Using these calls you can for example create streams and apps or any other activity that you can do in the QMC or app. Most likely your SaaS platform already uses REST APIs, so just copy the code and and start automating... The tasks we automated is what we call the "generation". The key steps to be done for each customer for each template are
                    <ul>
                        <li><a target="_blank" href="{{github_create_stream}}">Create stream with the name of the customer</a></li>
                        <li><a target="_blank" href="{{github_copy_app}}">Copy template app</a></li>
                        <li><a target="_blank" href="{{github_replace_and_reload_app}}">Replace the script and reload the app</a>(this makes dynamic dataloading from big data sources possible. Examples include Hadoop, MongoDB (used in this demo), google Big Query etc.</li>
                        <li><a target="_blank" href="{{github_publish_app}}">Publish app in customer stream</a></li>
                    </ul>
                </p>
                <div class="center aligned column">
                    <div class="ui mini buttons">
                        <a href="{{doc_sourceCode}}" target="_blank" class="ui button">Source code guide</a>
                    </div>
                </div>
            </div>
            <div class="right floated eight wide column">
                <img class="ui image" src="/images/jsGenerationLoop.png">
            </div>
        </div>
        <div class="ui divider"></div>
        <div class="row">
            <div class="eight wide column">
                <h4>Sequence diagrams</h4>
                <p>We understand that understanding someone else's source code is complex therefore we created both a high level and a deep dive sequence diagram for the multi-tenant app publishing part.</p>
                <div class="center aligned column">
                    <div class="ui mini buttons">
                        <a href="http://knsv.github.io/mermaid/live_editor/#/view/c2VxdWVuY2VEaWFncmFtCkJyb3dzZXItPj5pbnRybyBwYWdlOiBjbGllbnRcbWFpbi5qcwpOb3RlIHJpZ2h0IG9mIGludHJvIHBhZ2U6IChpcm9uKXJvdXRlciBsb2FkcyB0ZW1wbGF0ZSBmb3Igcm91dGUgcGF0aCAvLiBjbGllbnRcbWFpbi5qcyBsb2FkcyBhbGwganMgYW5kIGh0bWwgaW4gXGltcG9ydHMgaW5jbHVkaW5nIHJvdXRlci5qcyB0aGF0IG1hcHMgdXJscyB0byBibGF6ZSB0ZW1wbGF0ZXMuIEFsbCB0ZW1wbGF0ZXMgYXJlIGxvY2F0ZWQgaW4gaW1wb3J0c1x1aS4gQWxsIHBhZ2VzIHVzZSB0aGUgc2FtZSBsYXlvdXQgd2l0aCB0aGUgaGVhZGVyIGFuZCBmb290ZXIuIFRoZSBjZW50ZXIgY29udGVudCAoeWllbGQgaW4gbGF5b3V0Lmh0bWwpIGlzIHJlcGxhY2VkIGJ5IHRoZSByb3V0ZXIuIFRoZSBsYXlvdXQgZW5naW5lIHVzZWQgaXMgQmxhemUsIHdoaWNoIHVzZXMgc3BhY2ViYXJzIChhIGZvcmsgb2YgSGFuZGxlYmFycykKaW50cm8gcGFnZS0tPj4gQnJvd3Nlcjogc2hvdyBpbnRyb2R1Y3Rpb24gdmlkZW9zIHBhZ2UKQnJvd3Nlci0-PiBHZW5lcmF0aW9uIHRlbXBsYXRlOiB1c2VyIGNsaWNrcyBkZW1vIGJ1dHRvbiB3aGljaCBvcGVucyBcZ2VuZXJhdGlvbiBwYXRoIGFuZCAgY29ycmVzcG9uZGluZyB0ZW1wbGF0ZQpOb3RlIHJpZ2h0IG9mIEdlbmVyYXRpb24gdGVtcGxhdGU6IEVhY2ggdGVtcGxhdGUgaGFzIGV2ZW50cyBhbmQgaGVscGVycyB3aGljaCBjb21tdW5pY2F0ZSB3aXRoIHRoZSBzZXJ2ZXIuIEhlbHBlcnMgY3JlYXRlIHJlYWR5IHRvIHVzZSBkYXRhLCBzbyB0aGF0IHRoZSBIVE1MIHJlbWFpbnMgc2ltcGxlLiBFdmVudHMgYXJlIHRyaWdnZXJlZCB3aGVuIHRoZSB1c2VyIGNsaWNrcyBvbiBzb21ldGhpbmcuCkdlbmVyYXRpb24gdGVtcGxhdGUtPj5TZXJ2ZXI6TWV0ZW9yLmNhbGwoImdldEFwcHMiKSB0aGUgc2VydmVyIGhhcyBtZXRob2RzIGZvciBlYWNoIGZ1bmN0aW9uLgpOb3RlIHJpZ2h0IG9mIFNlcnZlcjogU2VydmVyIHNpZGUgb2YgbWV0ZW9yIHNzdGFydHMgd2l0aCBzZXJ2ZXIvbWFpbi5qcyB0aGlzIGZpbGUgY29udGFpbnMgdGhlIE1ldGVvciBtZXRob2RzLiBUaGlzIGZpbGUgYWxzbyBpbXBvcnRzIGl0cyBkZXBlbmRlbmNpZXMuIExpa2UgdGhlIFNlbnNlIGZ1bmN0aW9ucy4KU2VydmVyLT4-QXBwRnVuY3Rpb25zOiBhIGZpbGUgcGVyIFNlbnNlIHR5cGUKTm90ZSByaWdodCBvZiBTZXJ2ZXI6IGEgZmlsZSBmb3IgUVBTLCBhcHBzLCBzdHJlYW1zLCBzeXN0ZW1ydWxlcwpOb3RlIHJpZ2h0IG9mIEFwcEZ1bmN0aW9uczogTWV0ZW9yIHNlcnZlciBzaWRlIGNvbW11bmljYXRlcyB3aXRoIFFsaWsgU2Vuc2UgdXNpbmcgUVJTIFJFU1QgYW5kIGVuZ2luZSAocXNvY2tzKSBBUEkgZm9yIHJlbG9hZHMuIEFsbCBjYWxscyBiZXR3ZWVuIE1ldGVvciBhbmQgU2Vuc2UgZ28gdmlhIGpzIGluIGltcG9ydHNcYXBpXHNlcnZlci4gVGhlIGFwcEZ1bmN0aW9ucyBhbHNvIGNvbnRhaW4gdGhlIGFwcCBnZW5lcmF0aW9uIGNoYWluIG9mIGV2ZW50cy4gKENvcHksIGRlbG" class="ui button" target="_blank">High level diagram</a>
                        <div class="or"></div>
                        <a href="https://is.gd/6ics9x" target="_blank" class="ui button">Generation diagram</a>
                        <div class="or"></div>
                        <a href="{{seq_ticketing_flow}}" target="_blank" class="ui button">Single Sign on (ticketing)</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="right floated eight wide column">
            <img class="ui image" src="/images/Sequence diagram generation 1.png">
        </div>
    </div>
    <div class="ui divider"></div>
    <div class="row">
        <h3 class="ui header">            
                Real time JSON messages (API)</h3>
        <p>In the table below you will see a real time overview of the JSON messages being sent between Qlik Sense QRS and the Engine API. You can search for specific words like app, stream, notification, logout etc. to view the API request from this demo platform and the response from Qlik Sense.</p>
        {{> reactiveTable collection=restrictedApiLogs settings=RESTCallSettings}}
    </div>
    <div class="ui fullscreen modal sequenceGeneration">
        <i class="close icon"></i>
        <div class="ui header">Deep dive sequence diagram of the generation part</div>
        <div class="description">
            <p>In this schema you will see the flow from the user requesting generation page via a click on the button on the introduction page. We skip the part of the user inserting customers and selecting a template. The thing which is explained on this page is the interaction between Meteor, Qlik Sense QRS and Engine APIs. In general you perform activities on QMC level with the QRS API and stuff inside an app with the Engine API.</p>
        </div>
        {{> sequenceDiagramGeneration}}
        <div class="actions">
            <div class="ui positive right labeled icon button">
                I got it...
                <i class="checkmark icon"></i>
            </div>
        </div>
    </div>
    <div class="ui fullscreen modal sequenceOverview">
        <i class="close icon"></i>
        <div class="ui header">Sequence diagram of high level source code interaction</div>
        <div class="description">
            <p>In this schema you will see the flow from the user requesting the demo page, though the source code of this demo platform to Qlik Sense and back</p>
        </div>
        {{> sequenceDiagramOverview}}
        <div class="actions">
            <div class="ui positive right labeled icon button">
                I got it...
                <i class="checkmark icon"></i>
            </div>
        </div>
    </div>
    {{>modalSaaSautomation}} {{>APIIntegrationMindMap}}
</template>
<template name="APIIntegrationMindMap">
    <div class="ui modal APIIntegrationMindMap">
        <div class="ui icon message">
            <img class="icon" src="images/API.png">
            <div class="content">
                <div class="header">
                    <h4>Overview of the API's to be used by your SaaS platform</h4>
                </div>
            </div>
        </div>
        <div class="ui divider"></div>
        <div class="ui one column centered grid">
            <div class="column centered">
                <img class="ui fluid image" src="/images/mindMapAPIIntegration.png">
            </div>
        </div>
        <div class="actions">
            <div class="ui positive right labeled icon button">
                I got it...
                <i class="checkmark icon"></i>
            </div>
        </div>
    </div>
</template>
