<template name="ppt_integrationMain">
    <div class="ui black big launch right attached fixed button" style="background-color: #545454">
        <i class="content icon"></i>
        <span class="text">Qlik Sense Engine API Slide generator</span>
    </div>
    <div class="ui sidebar integration" style="width: 900px;">
        <iframe src='{{IFrameURLChapterSelection}}' style=" margin-top: 45px; width:100%; height: 100%;border: 0 none;"> </iframe>
    </div>
    <div class="pusher">
        <iframe allowfullscreen src="{{pathFor 'ppt_integration'}}" class="frame"></iframe>
    </div>
</template>
<template name="ppt_integration">
    <!-- <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script> -->
    <!-- <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script> -->
    
    <div id="impress">
        {{#if mainTopics}} {{#each mainTopics }} {{#if chapterSlide this}}
        <div class="z step slide breaker" data-x="{{XValue @index}}" data-z="1000" style="height: 100%">
            <!-- <img class="ui centered image" style="margin-top: 60px" src="images/integrationTopics.png"> -->
            {{this}}
        </div>
        <!-- {{> pageBreaker}} -->
        {{else}}
        <div class="z {{stepVisible this}} slide integration" data-x="{{XValue @index}}" data-rotate-x="30" data-z="-1000" style="visibility: {{visibility this}};">
            <h2 style="margin-left: 160px" class="ui header">
                <div class="content">
                    {{level 1}}
                    <div class="sub header" style="font-size: 1.2em">{{level 2}}</div>
                </div>
            </h2>
            <div class="ui list" style="margin-top: 60px">
                <!-- ?prettify lang=javascript linenums=true? -->
                {{#each item in itemsOfLevel 3}} {{{formatted item}}} {{/each}}
            </div>
        </div>
        {{/if}} {{/each}}
        <div class="z step thankYou" data-x="-1000" data-z="3000" style="">
            <img class="ui bottom aligned fluid image" src="images/presentation thank you.png">
        </div>
        {{else}} {{> errorPresentation}} {{/if}}
    </div>
    <div class="hint">
        <p>Click on the screen and
            <br/> use a spacebar or arrow keys to navigate</p>
    </div>
    <div class="ui {{#if loading}} active {{/if}} dimmer">
        <div class="ui indeterminate text loader">Connecting to Qlik Sense Engine API to get all the data for the presentation.
            <br> Once the data is ready we use Impress.js to create an online presentation</div>
    </div>
</template>
<template name="pageBreaker">
</template>
<template name="errorPresentation">
    <!--  <div class="ui negative message z step slide">
        <i class="close icon"></i>
        <div class="header">
            We're sorry we can't create your presentation...
        </div>
        <ul class="list">
            <li>Make new selection</li>
            <li>Refresh your browser</li>
            <li>Issue can also occur with a slow internet connection or computer.</li>
        </ul>
    </div> -->
</template>
<!-- {{> Template.dynamic template="dynamicSlide" data=row}}        -->
<!-- <tr>
        {{#each row in topics }}
            {{#each cell in row}}
            <td> {{cell.qText}} </td> 
            {{/each}}
        </tr> 
        {{/each}}-->
